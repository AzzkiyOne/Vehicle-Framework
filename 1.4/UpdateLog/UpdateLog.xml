<?xml version="1.0" encoding="utf-8"?>
<UpdateLog>
  <!--Can utilize Version.txt file placed in mod's root directory-->
  <currentVersion>1.4.1164</currentVersion>
  <!--Startup,GameInit,LoadedGame,NewGame-->
  <updateOn>Startup</updateOn>
  <!--Full description shown in update page-->
  <description>[title]Recent News[/title][font]Small[/font]

[title]Bug Fixes[/title][font]Small[/font]
Fixed compatibility issue with Vanilla Expanded Psycasts.

Fixed bug where forcing a vehicle into a mental state or mental break would bypass its previous preventative measures.

Fixed bug where forcing a hediff onto a vehicle would immediately destroy it.

Fixed bug where aerial vehicles wouldn't use fuel under certain conditions.

Fixed some grammar issues for jobs labels for pawns.

Fixed bug where vehicles would attempt to pull dropdown for school mechanics.

Fixed bug where pawns weren't ticking inside the vehicle that was spawned on a map, causing them to enter a suspended state.

Fixed bug where using StackLimit mods would cause adding ammo to vehicle turrets via devmode to add hundreds or thousands at a time, overencumbering the vehicle.

Fixed bug where creating a vehicle turret that did not require ammo to reload was impossible.

Fixed bug where vehicle reservations and requesters wouldn't properly clear when vehicle is despawned.

Fixed bug where canceling loading while pawns are actively hauling still attempts to load the items anyway.

Fixed bug where default terrain would not be marked impassable but still invalid for pathfinding, resulting in floodfill searches due to reachability checks not working.
[title]Performance Improvements[/title]
Compressed region making for vehicles to reuse region grids for vehicles with similar configurations.

Calculations for vehicles' world path grid are now thrown into a separate thread.  This will prevent the game from locking up once per in-game-day when it recalculates for seasonal costs.

Vehicle comps will now only tick on request, rather than every comp ticking continuously despite not being in use.

Improved startup time substantially.  This is especially apparent for large mod lists, startup time should be relatively consistent now regardless of mod list size

Vehicle stats are now cached and calculated only when needed.  Event driven recaching will also allow unused stats to remain uncalculated until fetched. (Schrödinger's stat)

Removed unnecessary tickers from VehiclePawn.

Regions are now managed, dirtyed, and updated on the dedicated map thread for vehicles

HPA* implementation for faster cross-map pathfinding

Pathfinding is now performed on the dedicated map thread for vehicles.

Fixed some old patches for detecting pawns inside vehicles for events such as Game Ender and alerts.
[title]Additional Changes[/title][font]Small[/font]
Changed FuelConsumptionCondition to operate on flags.  Defaults to consuming fuel when drafted or moving in a caravan.

Added configuration button for target fuel level of vehicle.

Added indicator to target fuel level of vehicle.
[title]Final Notes[/title][font]Small[/font]
Please report any issues you find [link]https://github.com/SmashPhil/Vehicles/issues[/link](here.) or on the discord server.
</description>
  <!--Static parameterless method to execute when update log is executed-->
  <actionOnUpdate></actionOnUpdate>
  <!--Show update log on next startup.-->
  <update>false</update>
  <!--Testing mode prevents the update from saving over the UpdateLog file-->
  <testing>false</testing>
  <!--Icon bar shown to the right of the mod's name-->
  <rightIconBar>
    <li>
      <name>Github</name>
      <icon>githubIcon</icon>
      <url>https://github.com/SmashPhil/Vehicles</url>
    </li>
    <li>
      <name>Discord</name>
      <icon>discordIcon</icon>
      <url>https://discord.gg/zXDyfWQ</url>
    </li>
    <li>
      <name>Steam</name>
      <icon>steamIcon</icon>
      <url>steam://url/CommunityFilePage/2356577528</url>
    </li>
  </rightIconBar>
  <!--Icon bar shown to the left of the mod's name-->
  <leftIconBar>
    <li>
      <name>Patreon</name>
      <icon>patreonIcon</icon>
      <url>https://www.patreon.com/smashphil</url>
    </li>
    <li>
      <name>Cursed Crew</name>
      <icon>cursedCrewIcon</icon>
      <url>https://discord.gg/NNe2VxAU7Z</url>
    </li>
  </leftIconBar>
</UpdateLog>